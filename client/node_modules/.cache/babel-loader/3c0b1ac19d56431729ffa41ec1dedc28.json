{"ast":null,"code":"var _jsxFileName = \"E:\\\\eth_voting\\\\Test\\\\client\\\\src\\\\component\\\\Results\\\\Results.js\";\n// Node 模块\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// 组件\nimport Navbar from \"../Navbar/Navigation\"; // 导航栏组件\nimport NavbarAdmin from \"../Navbar/NavigationAdmin\"; // 管理员导航栏组件\nimport NotInit from \"../NotInit\"; // 未初始化组件\n\n// 合约\nimport getWeb3 from \"../../getWeb3\"; // 获取 Web3 实例\nimport Election from \"../../contracts/Election.json\"; // 选举合约 ABI\n\n// CSS\nimport \"./Results.css\";\nexport default class Result extends Component {\n  constructor(props) {\n    super(props);\n    this.componentDidMount = async () => {\n      // 页面刷新仅执行一次\n      if (!window.location.hash) {\n        window.location = window.location + \"#loaded\";\n        window.location.reload();\n      }\n      try {\n        // 获取网络提供程序和 Web3 实例\n        const web3 = await getWeb3();\n\n        // 使用 Web3 获取用户账户\n        const accounts = await web3.eth.getAccounts();\n\n        // 获取合约实例\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = Election.networks[networkId];\n        const instance = new web3.eth.Contract(Election.abi, deployedNetwork && deployedNetwork.address);\n\n        // 将 Web3、账户和合约设置为状态，并继续与合约方法交互的示例。\n        this.setState({\n          web3,\n          ElectionInstance: instance,\n          account: accounts[0]\n        });\n\n        // 获取候选人总数\n        const candidateCount = await this.state.ElectionInstance.methods.getTotalCandidate().call();\n        this.setState({\n          candidateCount: candidateCount\n        });\n\n        // 获取开始和结束值\n        const start = await this.state.ElectionInstance.methods.getStart().call();\n        this.setState({\n          isElStarted: start\n        });\n        const end = await this.state.ElectionInstance.methods.getEnd().call();\n        this.setState({\n          isElEnded: end\n        });\n\n        // 加载候选人详情\n        for (let i = 1; i <= this.state.candidateCount; i++) {\n          const candidate = await this.state.ElectionInstance.methods.candidateDetails(i - 1).call();\n          this.state.candidates.push({\n            id: candidate.candidateId,\n            header: candidate.header,\n            slogan: candidate.slogan,\n            voteCount: candidate.voteCount\n          });\n        }\n        this.setState({\n          candidates: this.state.candidates\n        });\n\n        // 管理员账户和验证\n        const admin = await this.state.ElectionInstance.methods.getAdmin().call();\n        if (this.state.account === admin) {\n          this.setState({\n            isAdmin: true\n          });\n        }\n      } catch (error) {\n        // 捕获以上操作的任何错误。\n        alert(`加载 Web3、账户或合约失败。请查看控制台以获取详细信息。`);\n        console.error(error);\n      }\n    };\n    this.state = {\n      ElectionInstance: undefined,\n      // 选举合约实例\n      account: null,\n      // 用户账户\n      web3: null,\n      // Web3 实例\n      isAdmin: false,\n      // 是否为管理员\n      candidateCount: undefined,\n      // 候选人数量\n      candidates: [],\n      // 候选人列表\n      isElStarted: false,\n      // 选举是否已开始\n      isElEnded: false // 选举是否已结束\n    };\n  }\n\n  render() {\n    if (!this.state.web3) {\n      // 如果未加载 Web3，则显示加载信息\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isAdmin ? /*#__PURE__*/React.createElement(NavbarAdmin, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 43\n        }\n      }) : /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 60\n        }\n      }), /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, \"\\u52A0\\u8F7D Web3\\u3001\\u8D26\\u6237\\u548C\\u5408\\u7EA6\\u4E2D...\"));\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isAdmin ? /*#__PURE__*/React.createElement(NavbarAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 56\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, !this.state.isElStarted && !this.state.isElEnded ? /*#__PURE__*/React.createElement(NotInit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }) : this.state.isElStarted && !this.state.isElEnded ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item attention\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, \"\\u9009\\u4E3E\\u6B63\\u5728\\u8FDB\\u884C\\u4E2D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, \"\\u9009\\u4E3E\\u7ED3\\u675F\\u540E\\u5C06\\u663E\\u793A\\u7ED3\\u679C\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }, \"\\u8BF7\\u524D\\u5F80\\u6295\\u7968\\u9875\\u9762\\u8FDB\\u884C\\u6295\\u7968\\uFF08\\u5982\\u679C\\u5C1A\\u672A\\u6295\\u7968\\uFF09\\u3002\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Voting\",\n      style: {\n        color: \"black\",\n        textDecoration: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, \"\\u6295\\u7968\\u9875\\u9762\"))) : !this.state.isElStarted && this.state.isElEnded ? displayResults(this.state.candidates) : null));\n  }\n}\nfunction displayWinner(candidates) {\n  const getWinner = candidates => {\n    // 返回获得最多票数的候选人对象\n    let maxVoteRecived = 0;\n    let winnerCandidate = [];\n    for (let i = 0; i < candidates.length; i++) {\n      if (candidates[i].voteCount > maxVoteRecived) {\n        maxVoteRecived = candidates[i].voteCount;\n        winnerCandidate = [candidates[i]];\n      } else if (candidates[i].voteCount === maxVoteRecived) {\n        winnerCandidate.push(candidates[i]);\n      }\n    }\n    return winnerCandidate;\n  };\n  const renderWinner = winner => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-winner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"winner-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"winner-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"\\u83B7\\u80DC\\u8005\\uFF01\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \" \", winner.header), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"winner-slogan\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, winner.slogan)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"winner-votes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"votes-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"\\u603B\\u7968\\u6570:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"vote-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, winner.voteCount)));\n  };\n  const winnerCandidate = getWinner(candidates);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, winnerCandidate.map(renderWinner));\n}\nexport function displayResults(candidates) {\n  const renderResults = candidate => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, candidate.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, candidate.header), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, candidate.voteCount));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, candidates.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, displayWinner(candidates)) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-main\",\n    style: {\n      borderTop: \"1px solid\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"\\u7ED3\\u679C\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, \"\\u5019\\u9009\\u4EBA\\u603B\\u6570: \", candidates.length), candidates.length < 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-item attention\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, \"\\u6682\\u65E0\\u5019\\u9009\\u4EBA\\u3002\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 37\n    }\n  }, \"\\u7F16\\u53F7\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 37\n    }\n  }, \"\\u5019\\u9009\\u4EBA\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 37\n    }\n  }, \"\\u5F97\\u7968\\u6570\")), candidates.map(renderResults))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-item\",\n    style: {\n      border: \"1px solid black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }, \"\\u4EE5\\u4E0A\\u4E3A\\u6240\\u6709\\u5185\\u5BB9\\u3002\")))));\n}","map":{"version":3,"names":["React","Component","Link","Navbar","NavbarAdmin","NotInit","getWeb3","Election","Result","constructor","props","componentDidMount","window","location","hash","reload","web3","accounts","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","ElectionInstance","account","candidateCount","state","methods","getTotalCandidate","call","start","getStart","isElStarted","end","getEnd","isElEnded","i","candidate","candidateDetails","candidates","push","id","candidateId","header","slogan","voteCount","admin","getAdmin","isAdmin","error","alert","console","undefined","render","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","to","style","color","textDecoration","displayResults","displayWinner","getWinner","maxVoteRecived","winnerCandidate","length","renderWinner","winner","map","renderResults","borderTop","border"],"sources":["E:/eth_voting/Test/client/src/component/Results/Results.js"],"sourcesContent":["// Node 模块\nimport React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\n\n// 组件\nimport Navbar from \"../Navbar/Navigation\"; // 导航栏组件\nimport NavbarAdmin from \"../Navbar/NavigationAdmin\"; // 管理员导航栏组件\nimport NotInit from \"../NotInit\"; // 未初始化组件\n\n// 合约\nimport getWeb3 from \"../../getWeb3\"; // 获取 Web3 实例\nimport Election from \"../../contracts/Election.json\"; // 选举合约 ABI\n\n// CSS\nimport \"./Results.css\";\n\nexport default class Result extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ElectionInstance: undefined, // 选举合约实例\n            account: null, // 用户账户\n            web3: null, // Web3 实例\n            isAdmin: false, // 是否为管理员\n            candidateCount: undefined, // 候选人数量\n            candidates: [], // 候选人列表\n            isElStarted: false, // 选举是否已开始\n            isElEnded: false, // 选举是否已结束\n        };\n    }\n\n    componentDidMount = async () => {\n        // 页面刷新仅执行一次\n        if (!window.location.hash) {\n            window.location = window.location + \"#loaded\";\n            window.location.reload();\n        }\n        try {\n            // 获取网络提供程序和 Web3 实例\n            const web3 = await getWeb3();\n\n            // 使用 Web3 获取用户账户\n            const accounts = await web3.eth.getAccounts();\n\n            // 获取合约实例\n            const networkId = await web3.eth.net.getId();\n            const deployedNetwork = Election.networks[networkId];\n            const instance = new web3.eth.Contract(\n                Election.abi,\n                deployedNetwork && deployedNetwork.address\n            );\n\n            // 将 Web3、账户和合约设置为状态，并继续与合约方法交互的示例。\n            this.setState({web3, ElectionInstance: instance, account: accounts[0]});\n\n            // 获取候选人总数\n            const candidateCount = await this.state.ElectionInstance.methods\n                .getTotalCandidate()\n                .call();\n            this.setState({candidateCount: candidateCount});\n\n            // 获取开始和结束值\n            const start = await this.state.ElectionInstance.methods.getStart().call();\n            this.setState({isElStarted: start});\n            const end = await this.state.ElectionInstance.methods.getEnd().call();\n            this.setState({isElEnded: end});\n\n            // 加载候选人详情\n            for (let i = 1; i <= this.state.candidateCount; i++) {\n                const candidate = await this.state.ElectionInstance.methods\n                    .candidateDetails(i - 1)\n                    .call();\n                this.state.candidates.push({\n                    id: candidate.candidateId,\n                    header: candidate.header,\n                    slogan: candidate.slogan,\n                    voteCount: candidate.voteCount,\n                });\n            }\n\n            this.setState({candidates: this.state.candidates});\n\n            // 管理员账户和验证\n            const admin = await this.state.ElectionInstance.methods.getAdmin().call();\n            if (this.state.account === admin) {\n                this.setState({isAdmin: true});\n            }\n        } catch (error) {\n            // 捕获以上操作的任何错误。\n            alert(\n                `加载 Web3、账户或合约失败。请查看控制台以获取详细信息。`\n            );\n            console.error(error);\n        }\n    };\n\n    render() {\n        if (!this.state.web3) {\n            // 如果未加载 Web3，则显示加载信息\n            return (\n                <>\n                    {this.state.isAdmin ? <NavbarAdmin/> : <Navbar/>}\n                    <center>加载 Web3、账户和合约中...</center>\n                </>\n            );\n        }\n\n        return (\n            <>\n                {this.state.isAdmin ? <NavbarAdmin/> : <Navbar/>}\n                <br/>\n                <div>\n                    {!this.state.isElStarted && !this.state.isElEnded ? (\n                        <NotInit/>\n                    ) : this.state.isElStarted && !this.state.isElEnded ? (\n                        <div className=\"container-item attention\">\n                            <center>\n                                <h3>选举正在进行中。</h3>\n                                <p>选举结束后将显示结果。</p>\n                                <p>请前往投票页面进行投票（如果尚未投票）。</p>\n                                <br/>\n                                <Link\n                                    to=\"/Voting\"\n                                    style={{color: \"black\", textDecoration: \"underline\"}}\n                                >\n                                    投票页面\n                                </Link>\n                            </center>\n                        </div>\n                    ) : !this.state.isElStarted && this.state.isElEnded ? (\n                        displayResults(this.state.candidates)\n                    ) : null}\n                </div>\n            </>\n        );\n    }\n}\n\nfunction displayWinner(candidates) {\n    const getWinner = (candidates) => {\n        // 返回获得最多票数的候选人对象\n        let maxVoteRecived = 0;\n        let winnerCandidate = [];\n        for (let i = 0; i < candidates.length; i++) {\n            if (candidates[i].voteCount > maxVoteRecived) {\n                maxVoteRecived = candidates[i].voteCount;\n                winnerCandidate = [candidates[i]];\n            } else if (candidates[i].voteCount === maxVoteRecived) {\n                winnerCandidate.push(candidates[i]);\n            }\n        }\n        return winnerCandidate;\n    };\n    const renderWinner = (winner) => {\n        return (\n            <div className=\"container-winner\">\n                <div className=\"winner-info\">\n                    <p className=\"winner-tag\">获胜者！</p>\n                    <h2> {winner.header}</h2>\n                    <p className=\"winner-slogan\">{winner.slogan}</p>\n                </div>\n                <div className=\"winner-votes\">\n                    <div className=\"votes-tag\">总票数:</div>\n                    <div className=\"vote-count\">{winner.voteCount}</div>\n                </div>\n            </div>\n        );\n    };\n    const winnerCandidate = getWinner(candidates);\n    return <>{winnerCandidate.map(renderWinner)}</>;\n}\n\nexport function displayResults(candidates) {\n    const renderResults = (candidate) => {\n        return (\n            <tr>\n                <td>{candidate.id}</td>\n                <td>{candidate.header}</td>\n                <td>{candidate.voteCount}</td>\n            </tr>\n        );\n    };\n    return (\n        <>\n            {candidates.length > 0 ? (\n                <div className=\"container-main\">{displayWinner(candidates)}</div>\n            ) : null}\n            <div className=\"container-main\" style={{borderTop: \"1px solid\"}}>\n                <h2>结果</h2>\n                <small>候选人总数: {candidates.length}</small>\n                {candidates.length < 1 ? (\n                    <div className=\"container-item attention\">\n                        <center>暂无候选人。</center>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"container-item\">\n                            <table>\n                                <tr>\n                                    <th>编号</th>\n                                    <th>候选人</th>\n                                    <th>得票数</th>\n                                </tr>\n                                {candidates.map(renderResults)}\n                            </table>\n                        </div>\n                        <div\n                            className=\"container-item\"\n                            style={{border: \"1px solid black\"}}\n                        >\n                            <center>以上为所有内容。</center>\n                        </div>\n                    </>\n                )}\n            </div>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}