{"ast":null,"code":"var _jsxFileName = \"E:\\\\eth_voting\\\\dVoting\\\\client\\\\src\\\\component\\\\Voting\\\\Voting.js\";\n// Node modules\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// Components\nimport Navbar from \"../Navbar/Navigation\";\nimport NavbarAdmin from \"../Navbar/NavigationAdmin\";\nimport NotInit from \"../NotInit\";\n\n// Contract\nimport getWeb3 from \"../../getWeb3\";\nimport Election from \"../../contracts/Election.json\";\n\n// CSS\nimport \"./Voting.css\";\nexport default class Voting extends Component {\n  constructor(props) {\n    super(props);\n    this.componentDidMount = async () => {\n      // refreshing once\n      if (!window.location.hash) {\n        window.location = window.location + \"#loaded\";\n        window.location.reload();\n      }\n      try {\n        // Get network provider and web3 instance.\n        const web3 = await getWeb3();\n\n        // Use web3 to get the user's accounts.\n        const accounts = await web3.eth.getAccounts();\n\n        // Get the contract instance.\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = Election.networks[networkId];\n        const instance = new web3.eth.Contract(Election.abi, deployedNetwork && deployedNetwork.address);\n\n        // Set web3, accounts, and contract to the state, and then proceed with an\n        // example of interacting with the contract's methods.\n        this.setState({\n          web3: web3,\n          ElectionInstance: instance,\n          account: accounts[0]\n        });\n\n        // Get total number of candidates\n        const candidateCount = await this.state.ElectionInstance.methods.getTotalCandidate().call();\n        this.setState({\n          candidateCount: candidateCount\n        });\n\n        // Get start and end values\n        const start = await this.state.ElectionInstance.methods.getStart().call();\n        this.setState({\n          isElStarted: start\n        });\n        const end = await this.state.ElectionInstance.methods.getEnd().call();\n        this.setState({\n          isElEnded: end\n        });\n\n        // Loading Candidates details\n        for (let i = 1; i <= this.state.candidateCount; i++) {\n          const candidate = await this.state.ElectionInstance.methods.candidateDetails(i - 1).call();\n          this.state.candidates.push({\n            id: candidate.candidateId,\n            header: candidate.header,\n            slogan: candidate.slogan\n          });\n        }\n        this.setState({\n          candidates: this.state.candidates\n        });\n\n        // Loading current voter\n        const voter = await this.state.ElectionInstance.methods.voterDetails(this.state.account).call();\n        this.setState({\n          currentVoter: {\n            address: voter.voterAddress,\n            name: voter.name,\n            phone: voter.phone,\n            hasVoted: voter.hasVoted,\n            isVerified: voter.isVerified,\n            isRegistered: voter.isRegistered\n          }\n        });\n\n        // Admin account and verification\n        const admin = await this.state.ElectionInstance.methods.getAdmin().call();\n        if (this.state.account === admin) {\n          this.setState({\n            isAdmin: true\n          });\n        }\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n    this.renderCandidates = candidate => {\n      const castVote = async id => {\n        await this.state.ElectionInstance.methods.vote(id).send({\n          from: this.state.account,\n          gas: 1000000\n        });\n        window.location.reload();\n      };\n      const confirmVote = (id, header) => {\n        var r = window.confirm(\"Vote for \" + header + \" with Id \" + id + \".\\nAre you sure?\");\n        if (r === true) {\n          castVote(id);\n        }\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"candidate-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, candidate.header, \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 32\n        }\n      }, \"#\", candidate.id)), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"slogan\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      }, candidate.slogan)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"vote-btn-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => confirmVote(candidate.id, candidate.header),\n        className: \"vote-bth\",\n        disabled: !this.state.currentVoter.isRegistered || !this.state.currentVoter.isVerified || this.state.currentVoter.hasVoted,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, \"Vote\")));\n    };\n    this.state = {\n      ElectionInstance: undefined,\n      account: null,\n      web3: null,\n      isAdmin: false,\n      candidateCount: undefined,\n      candidates: [],\n      isElStarted: false,\n      isElEnded: false,\n      currentVoter: {\n        address: undefined,\n        name: null,\n        phone: null,\n        hasVoted: false,\n        isVerified: false,\n        isRegistered: false\n      }\n    };\n  }\n  render() {\n    if (!this.state.web3) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isAdmin ? /*#__PURE__*/React.createElement(NavbarAdmin, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 51\n        }\n      }), /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }, \"Loading Web3, accounts, and contract...\"));\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isAdmin ? /*#__PURE__*/React.createElement(NavbarAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 31\n      }\n    }) : /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, !this.state.isElStarted && !this.state.isElEnded ? /*#__PURE__*/React.createElement(NotInit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }) : this.state.isElStarted && !this.state.isElEnded ? /*#__PURE__*/React.createElement(React.Fragment, null, this.state.currentVoter.isRegistered ? this.state.currentVoter.isVerified ? this.state.currentVoter.hasVoted ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }, \"You've casted your vote.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/Results\",\n      style: {\n        color: \"black\",\n        textDecoration: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 27\n      }\n    }, \"See Results\")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 23\n      }\n    }, \"Go ahead and cast your vote.\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item attention\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, \"Please wait for admin to verify.\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item attention\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 23\n      }\n    }, \"You're not registered. Please register first.\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Registration\",\n      style: {\n        color: \"black\",\n        textDecoration: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 23\n      }\n    }, \"Registration Page\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, \"Candidates\"), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, \"Total candidates: \", this.state.candidates.length), this.state.candidates.length < 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item attention\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }, \"Not one to vote for.\")) : /*#__PURE__*/React.createElement(React.Fragment, null, this.state.candidates.map(this.renderCandidates), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item\",\n      style: {\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    }, \"That is all.\"))))) : !this.state.isElStarted && this.state.isElEnded ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-item attention\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 19\n      }\n    }, \"The Election ended.\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Results\",\n      style: {\n        color: \"black\",\n        textDecoration: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, \"See results\")))) : null));\n  }\n}","map":{"version":3,"names":["React","Component","Link","Navbar","NavbarAdmin","NotInit","getWeb3","Election","Voting","constructor","props","componentDidMount","window","location","hash","reload","web3","accounts","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","ElectionInstance","account","candidateCount","state","methods","getTotalCandidate","call","start","getStart","isElStarted","end","getEnd","isElEnded","i","candidate","candidateDetails","candidates","push","id","candidateId","header","slogan","voter","voterDetails","currentVoter","voterAddress","name","phone","hasVoted","isVerified","isRegistered","admin","getAdmin","isAdmin","error","alert","console","renderCandidates","castVote","vote","send","from","gas","confirmVote","r","confirm","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","undefined","render","Fragment","to","style","color","textDecoration","length","map","border"],"sources":["E:/eth_voting/dVoting/client/src/component/Voting/Voting.js"],"sourcesContent":["// Node modules\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// Components\nimport Navbar from \"../Navbar/Navigation\";\nimport NavbarAdmin from \"../Navbar/NavigationAdmin\";\nimport NotInit from \"../NotInit\";\n\n// Contract\nimport getWeb3 from \"../../getWeb3\";\nimport Election from \"../../contracts/Election.json\";\n\n// CSS\nimport \"./Voting.css\";\n\nexport default class Voting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ElectionInstance: undefined,\n      account: null,\n      web3: null,\n      isAdmin: false,\n      candidateCount: undefined,\n      candidates: [],\n      isElStarted: false,\n      isElEnded: false,\n      currentVoter: {\n        address: undefined,\n        name: null,\n        phone: null,\n        hasVoted: false,\n        isVerified: false,\n        isRegistered: false,\n      },\n    };\n  }\n  componentDidMount = async () => {\n    // refreshing once\n    if (!window.location.hash) {\n      window.location = window.location + \"#loaded\";\n      window.location.reload();\n    }\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = Election.networks[networkId];\n      const instance = new web3.eth.Contract(\n        Election.abi,\n        deployedNetwork && deployedNetwork.address\n      );\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({\n        web3: web3,\n        ElectionInstance: instance,\n        account: accounts[0],\n      });\n\n      // Get total number of candidates\n      const candidateCount = await this.state.ElectionInstance.methods\n        .getTotalCandidate()\n        .call();\n      this.setState({ candidateCount: candidateCount });\n\n      // Get start and end values\n      const start = await this.state.ElectionInstance.methods.getStart().call();\n      this.setState({ isElStarted: start });\n      const end = await this.state.ElectionInstance.methods.getEnd().call();\n      this.setState({ isElEnded: end });\n\n      // Loading Candidates details\n      for (let i = 1; i <= this.state.candidateCount; i++) {\n        const candidate = await this.state.ElectionInstance.methods\n          .candidateDetails(i - 1)\n          .call();\n        this.state.candidates.push({\n          id: candidate.candidateId,\n          header: candidate.header,\n          slogan: candidate.slogan,\n        });\n      }\n      this.setState({ candidates: this.state.candidates });\n\n      // Loading current voter\n      const voter = await this.state.ElectionInstance.methods\n        .voterDetails(this.state.account)\n        .call();\n      this.setState({\n        currentVoter: {\n          address: voter.voterAddress,\n          name: voter.name,\n          phone: voter.phone,\n          hasVoted: voter.hasVoted,\n          isVerified: voter.isVerified,\n          isRegistered: voter.isRegistered,\n        },\n      });\n\n      // Admin account and verification\n      const admin = await this.state.ElectionInstance.methods.getAdmin().call();\n      if (this.state.account === admin) {\n        this.setState({ isAdmin: true });\n      }\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`\n      );\n      console.error(error);\n    }\n  };\n\n  renderCandidates = (candidate) => {\n    const castVote = async (id) => {\n      await this.state.ElectionInstance.methods\n        .vote(id)\n        .send({ from: this.state.account, gas: 1000000 });\n      window.location.reload();\n    };\n    const confirmVote = (id, header) => {\n      var r = window.confirm(\n        \"Vote for \" + header + \" with Id \" + id + \".\\nAre you sure?\"\n      );\n      if (r === true) {\n        castVote(id);\n      }\n    };\n    return (\n      <div className=\"container-item\">\n        <div className=\"candidate-info\">\n          <h2>\n            {candidate.header} <small>#{candidate.id}</small>\n          </h2>\n          <p className=\"slogan\">{candidate.slogan}</p>\n        </div>\n        <div className=\"vote-btn-container\">\n          <button\n            onClick={() => confirmVote(candidate.id, candidate.header)}\n            className=\"vote-bth\"\n            disabled={\n              !this.state.currentVoter.isRegistered ||\n              !this.state.currentVoter.isVerified ||\n              this.state.currentVoter.hasVoted\n            }\n          >\n            Vote\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    if (!this.state.web3) {\n      return (\n        <>\n          {this.state.isAdmin ? <NavbarAdmin /> : <Navbar />}\n          <center>Loading Web3, accounts, and contract...</center>\n        </>\n      );\n    }\n\n    return (\n      <>\n        {this.state.isAdmin ? <NavbarAdmin /> : <Navbar />}\n        <div>\n          {!this.state.isElStarted && !this.state.isElEnded ? (\n            <NotInit />\n          ) : this.state.isElStarted && !this.state.isElEnded ? (\n            <>\n              {this.state.currentVoter.isRegistered ? (\n                this.state.currentVoter.isVerified ? (\n                  this.state.currentVoter.hasVoted ? (\n                    <div className=\"container-item success\">\n                      <div>\n                        <strong>You've casted your vote.</strong>\n                        <p />\n                        <center>\n                          <Link\n                            to=\"/Results\"\n                            style={{\n                              color: \"black\",\n                              textDecoration: \"underline\",\n                            }}\n                          >\n                            See Results\n                          </Link>\n                        </center>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"container-item info\">\n                      <center>Go ahead and cast your vote.</center>\n                    </div>\n                  )\n                ) : (\n                  <div className=\"container-item attention\">\n                    <center>Please wait for admin to verify.</center>\n                  </div>\n                )\n              ) : (\n                <>\n                  <div className=\"container-item attention\">\n                    <center>\n                      <p>You're not registered. Please register first.</p>\n                      <br />\n                      <Link\n                        to=\"/Registration\"\n                        style={{ color: \"black\", textDecoration: \"underline\" }}\n                      >\n                        Registration Page\n                      </Link>\n                    </center>\n                  </div>\n                </>\n              )}\n              <div className=\"container-main\">\n                <h2>Candidates</h2>\n                <small>Total candidates: {this.state.candidates.length}</small>\n                {this.state.candidates.length < 1 ? (\n                  <div className=\"container-item attention\">\n                    <center>Not one to vote for.</center>\n                  </div>\n                ) : (\n                  <>\n                    {this.state.candidates.map(this.renderCandidates)}\n                    <div\n                      className=\"container-item\"\n                      style={{ border: \"1px solid black\" }}\n                    >\n                      <center>That is all.</center>\n                    </div>\n                  </>\n                )}\n              </div>\n            </>\n          ) : !this.state.isElStarted && this.state.isElEnded ? (\n            <>\n              <div className=\"container-item attention\">\n                <center>\n                  <h3>The Election ended.</h3>\n                  <br />\n                  <Link\n                    to=\"/Results\"\n                    style={{ color: \"black\", textDecoration: \"underline\" }}\n                  >\n                    See results\n                  </Link>\n                </center>\n              </div>\n            </>\n          ) : null}\n        </div>\n      </>\n    );\n  }\n}\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,OAAO,MAAM,YAAY;;AAEhC;AACA,OAAOC,OAAO,MAAM,eAAe;AACnC,OAAOC,QAAQ,MAAM,+BAA+B;;AAEpD;AACA,OAAO,cAAc;AAErB,eAAe,MAAMC,MAAM,SAASP,SAAS,CAAC;EAC5CQ,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAoBfC,iBAAiB,GAAG,YAAY;MAC9B;MACA,IAAI,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,EAAE;QACzBF,MAAM,CAACC,QAAQ,GAAGD,MAAM,CAACC,QAAQ,GAAG,SAAS;QAC7CD,MAAM,CAACC,QAAQ,CAACE,MAAM,EAAE;MAC1B;MACA,IAAI;QACF;QACA,MAAMC,IAAI,GAAG,MAAMV,OAAO,EAAE;;QAE5B;QACA,MAAMW,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAG,CAACC,WAAW,EAAE;;QAE7C;QACA,MAAMC,SAAS,GAAG,MAAMJ,IAAI,CAACE,GAAG,CAACG,GAAG,CAACC,KAAK,EAAE;QAC5C,MAAMC,eAAe,GAAGhB,QAAQ,CAACiB,QAAQ,CAACJ,SAAS,CAAC;QACpD,MAAMK,QAAQ,GAAG,IAAIT,IAAI,CAACE,GAAG,CAACQ,QAAQ,CACpCnB,QAAQ,CAACoB,GAAG,EACZJ,eAAe,IAAIA,eAAe,CAACK,OAAO,CAC3C;;QAED;QACA;QACA,IAAI,CAACC,QAAQ,CAAC;UACZb,IAAI,EAAEA,IAAI;UACVc,gBAAgB,EAAEL,QAAQ;UAC1BM,OAAO,EAAEd,QAAQ,CAAC,CAAC;QACrB,CAAC,CAAC;;QAEF;QACA,MAAMe,cAAc,GAAG,MAAM,IAAI,CAACC,KAAK,CAACH,gBAAgB,CAACI,OAAO,CAC7DC,iBAAiB,EAAE,CACnBC,IAAI,EAAE;QACT,IAAI,CAACP,QAAQ,CAAC;UAAEG,cAAc,EAAEA;QAAe,CAAC,CAAC;;QAEjD;QACA,MAAMK,KAAK,GAAG,MAAM,IAAI,CAACJ,KAAK,CAACH,gBAAgB,CAACI,OAAO,CAACI,QAAQ,EAAE,CAACF,IAAI,EAAE;QACzE,IAAI,CAACP,QAAQ,CAAC;UAAEU,WAAW,EAAEF;QAAM,CAAC,CAAC;QACrC,MAAMG,GAAG,GAAG,MAAM,IAAI,CAACP,KAAK,CAACH,gBAAgB,CAACI,OAAO,CAACO,MAAM,EAAE,CAACL,IAAI,EAAE;QACrE,IAAI,CAACP,QAAQ,CAAC;UAAEa,SAAS,EAAEF;QAAI,CAAC,CAAC;;QAEjC;QACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,IAAI,CAACV,KAAK,CAACD,cAAc,EAAEW,CAAC,EAAE,EAAE;UACnD,MAAMC,SAAS,GAAG,MAAM,IAAI,CAACX,KAAK,CAACH,gBAAgB,CAACI,OAAO,CACxDW,gBAAgB,CAACF,CAAC,GAAG,CAAC,CAAC,CACvBP,IAAI,EAAE;UACT,IAAI,CAACH,KAAK,CAACa,UAAU,CAACC,IAAI,CAAC;YACzBC,EAAE,EAAEJ,SAAS,CAACK,WAAW;YACzBC,MAAM,EAAEN,SAAS,CAACM,MAAM;YACxBC,MAAM,EAAEP,SAAS,CAACO;UACpB,CAAC,CAAC;QACJ;QACA,IAAI,CAACtB,QAAQ,CAAC;UAAEiB,UAAU,EAAE,IAAI,CAACb,KAAK,CAACa;QAAW,CAAC,CAAC;;QAEpD;QACA,MAAMM,KAAK,GAAG,MAAM,IAAI,CAACnB,KAAK,CAACH,gBAAgB,CAACI,OAAO,CACpDmB,YAAY,CAAC,IAAI,CAACpB,KAAK,CAACF,OAAO,CAAC,CAChCK,IAAI,EAAE;QACT,IAAI,CAACP,QAAQ,CAAC;UACZyB,YAAY,EAAE;YACZ1B,OAAO,EAAEwB,KAAK,CAACG,YAAY;YAC3BC,IAAI,EAAEJ,KAAK,CAACI,IAAI;YAChBC,KAAK,EAAEL,KAAK,CAACK,KAAK;YAClBC,QAAQ,EAAEN,KAAK,CAACM,QAAQ;YACxBC,UAAU,EAAEP,KAAK,CAACO,UAAU;YAC5BC,YAAY,EAAER,KAAK,CAACQ;UACtB;QACF,CAAC,CAAC;;QAEF;QACA,MAAMC,KAAK,GAAG,MAAM,IAAI,CAAC5B,KAAK,CAACH,gBAAgB,CAACI,OAAO,CAAC4B,QAAQ,EAAE,CAAC1B,IAAI,EAAE;QACzE,IAAI,IAAI,CAACH,KAAK,CAACF,OAAO,KAAK8B,KAAK,EAAE;UAChC,IAAI,CAAChC,QAAQ,CAAC;YAAEkC,OAAO,EAAE;UAAK,CAAC,CAAC;QAClC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd;QACAC,KAAK,CACF,wEAAuE,CACzE;QACDC,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAAA,KAEDG,gBAAgB,GAAIvB,SAAS,IAAK;MAChC,MAAMwB,QAAQ,GAAG,MAAOpB,EAAE,IAAK;QAC7B,MAAM,IAAI,CAACf,KAAK,CAACH,gBAAgB,CAACI,OAAO,CACtCmC,IAAI,CAACrB,EAAE,CAAC,CACRsB,IAAI,CAAC;UAAEC,IAAI,EAAE,IAAI,CAACtC,KAAK,CAACF,OAAO;UAAEyC,GAAG,EAAE;QAAQ,CAAC,CAAC;QACnD5D,MAAM,CAACC,QAAQ,CAACE,MAAM,EAAE;MAC1B,CAAC;MACD,MAAM0D,WAAW,GAAGA,CAACzB,EAAE,EAAEE,MAAM,KAAK;QAClC,IAAIwB,CAAC,GAAG9D,MAAM,CAAC+D,OAAO,CACpB,WAAW,GAAGzB,MAAM,GAAG,WAAW,GAAGF,EAAE,GAAG,kBAAkB,CAC7D;QACD,IAAI0B,CAAC,KAAK,IAAI,EAAE;UACdN,QAAQ,CAACpB,EAAE,CAAC;QACd;MACF,CAAC;MACD,oBACEhD,KAAA,CAAA4E,aAAA;QAAKC,SAAS,EAAC,gBAAgB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC7BnF,KAAA,CAAA4E,aAAA;QAAKC,SAAS,EAAC,gBAAgB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC7BnF,KAAA,CAAA4E,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GACGvC,SAAS,CAACM,MAAM,EAAC,GAAC,eAAAlD,KAAA,CAAA4E,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAO,GAAC,EAACvC,SAAS,CAACI,EAAE,CAAS,CAC9C,eACLhD,KAAA,CAAA4E,aAAA;QAAGC,SAAS,EAAC,QAAQ;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAEvC,SAAS,CAACO,MAAM,CAAK,CACxC,eACNnD,KAAA,CAAA4E,aAAA;QAAKC,SAAS,EAAC,oBAAoB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACjCnF,KAAA,CAAA4E,aAAA;QACEQ,OAAO,EAAEA,CAAA,KAAMX,WAAW,CAAC7B,SAAS,CAACI,EAAE,EAAEJ,SAAS,CAACM,MAAM,CAAE;QAC3D2B,SAAS,EAAC,UAAU;QACpBQ,QAAQ,EACN,CAAC,IAAI,CAACpD,KAAK,CAACqB,YAAY,CAACM,YAAY,IACrC,CAAC,IAAI,CAAC3B,KAAK,CAACqB,YAAY,CAACK,UAAU,IACnC,IAAI,CAAC1B,KAAK,CAACqB,YAAY,CAACI,QACzB;QAAAoB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GACF,MAED,CAAS,CACL,CACF;IAEV,CAAC;IA5IC,IAAI,CAAClD,KAAK,GAAG;MACXH,gBAAgB,EAAEwD,SAAS;MAC3BvD,OAAO,EAAE,IAAI;MACbf,IAAI,EAAE,IAAI;MACV+C,OAAO,EAAE,KAAK;MACd/B,cAAc,EAAEsD,SAAS;MACzBxC,UAAU,EAAE,EAAE;MACdP,WAAW,EAAE,KAAK;MAClBG,SAAS,EAAE,KAAK;MAChBY,YAAY,EAAE;QACZ1B,OAAO,EAAE0D,SAAS;QAClB9B,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE,IAAI;QACXC,QAAQ,EAAE,KAAK;QACfC,UAAU,EAAE,KAAK;QACjBC,YAAY,EAAE;MAChB;IACF,CAAC;EACH;EA4HA2B,MAAMA,CAAA,EAAG;IACP,IAAI,CAAC,IAAI,CAACtD,KAAK,CAACjB,IAAI,EAAE;MACpB,oBACEhB,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,QACG,IAAI,CAACvD,KAAK,CAAC8B,OAAO,gBAAG/D,KAAA,CAAA4E,aAAA,CAACxE,WAAW;QAAA0E,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAAG,gBAAGnF,KAAA,CAAA4E,aAAA,CAACzE,MAAM;QAAA2E,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAAG,eAClDnF,KAAA,CAAA4E,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAQ,yCAAuC,CAAS,CACvD;IAEP;IAEA,oBACEnF,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,QACG,IAAI,CAACvD,KAAK,CAAC8B,OAAO,gBAAG/D,KAAA,CAAA4E,aAAA,CAACxE,WAAW;MAAA0E,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAG,gBAAGnF,KAAA,CAAA4E,aAAA,CAACzE,MAAM;MAAA2E,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAG,eAClDnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACG,CAAC,IAAI,CAAClD,KAAK,CAACM,WAAW,IAAI,CAAC,IAAI,CAACN,KAAK,CAACS,SAAS,gBAC/C1C,KAAA,CAAA4E,aAAA,CAACvE,OAAO;MAAAyE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAG,GACT,IAAI,CAAClD,KAAK,CAACM,WAAW,IAAI,CAAC,IAAI,CAACN,KAAK,CAACS,SAAS,gBACjD1C,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,QACG,IAAI,CAACvD,KAAK,CAACqB,YAAY,CAACM,YAAY,GACnC,IAAI,CAAC3B,KAAK,CAACqB,YAAY,CAACK,UAAU,GAChC,IAAI,CAAC1B,KAAK,CAACqB,YAAY,CAACI,QAAQ,gBAC9B1D,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,wBAAwB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACEnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAQ,0BAAwB,CAAS,eACzCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAK,eACLnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACEnF,KAAA,CAAA4E,aAAA,CAAC1E,IAAI;MACHuF,EAAE,EAAC,UAAU;MACbC,KAAK,EAAE;QACLC,KAAK,EAAE,OAAO;QACdC,cAAc,EAAE;MAClB,CAAE;MAAAd,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACH,aAED,CAAO,CACA,CACL,CACF,gBAENnF,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,qBAAqB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAClCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAQ,8BAA4B,CAAS,CAEhD,gBAEDnF,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,0BAA0B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAQ,kCAAgC,CAAS,CAEpD,gBAEDnF,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,qBACExF,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,0BAA0B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACEnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAG,+CAA6C,CAAI,eACpDnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAM,eACNnF,KAAA,CAAA4E,aAAA,CAAC1E,IAAI;MACHuF,EAAE,EAAC,eAAe;MAClBC,KAAK,EAAE;QAAEC,KAAK,EAAE,OAAO;QAAEC,cAAc,EAAE;MAAY,CAAE;MAAAd,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACxD,mBAED,CAAO,CACA,CACL,CAET,eACDnF,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,gBAAgB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC7BnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAI,YAAU,CAAK,eACnBnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAO,oBAAkB,EAAC,IAAI,CAAClD,KAAK,CAACa,UAAU,CAAC+C,MAAM,CAAS,EAC9D,IAAI,CAAC5D,KAAK,CAACa,UAAU,CAAC+C,MAAM,GAAG,CAAC,gBAC/B7F,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,0BAA0B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAQ,sBAAoB,CAAS,CACjC,gBAENnF,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,QACG,IAAI,CAACvD,KAAK,CAACa,UAAU,CAACgD,GAAG,CAAC,IAAI,CAAC3B,gBAAgB,CAAC,eACjDnE,KAAA,CAAA4E,aAAA;MACEC,SAAS,EAAC,gBAAgB;MAC1Ba,KAAK,EAAE;QAAEK,MAAM,EAAE;MAAkB,CAAE;MAAAjB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAErCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAQ,cAAY,CAAS,CACzB,CAET,CACG,CACL,GACD,CAAC,IAAI,CAAClD,KAAK,CAACM,WAAW,IAAI,IAAI,CAACN,KAAK,CAACS,SAAS,gBACjD1C,KAAA,CAAA4E,aAAA,CAAA5E,KAAA,CAAAwF,QAAA,qBACExF,KAAA,CAAA4E,aAAA;MAAKC,SAAS,EAAC,0BAA0B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACEnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAI,qBAAmB,CAAK,eAC5BnF,KAAA,CAAA4E,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAM,eACNnF,KAAA,CAAA4E,aAAA,CAAC1E,IAAI;MACHuF,EAAE,EAAC,UAAU;MACbC,KAAK,EAAE;QAAEC,KAAK,EAAE,OAAO;QAAEC,cAAc,EAAE;MAAY,CAAE;MAAAd,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACxD,aAED,CAAO,CACA,CACL,CACL,GACD,IAAI,CACJ,CACL;EAEP;AACF"},"metadata":{},"sourceType":"module"}